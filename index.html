<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>居酒屋しらぬん｜アルバイト応募</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: #f5f5f5;
  color: #222;
  line-height: 1.8;
}

/* ===== パスワード画面 ===== */
#lock {
  position: fixed;
  inset: 0;
  background: #000;
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 3000;
}

.lock-box {
  width: 90%;
  max-width: 380px;
  text-align: center;
}

.lock-box p {
  font-size: clamp(13px, 3.5vw, 15px);
  margin-bottom: 24px;
  opacity: .85;
}

.lock-box input {
  width: 100%;
  padding: 14px;
  font-size: 16px;
  margin-bottom: 16px;
}

.lock-box button {
  width: 100%;
  padding: 14px;
  font-size: 16px;
}

.error {
  color: #ff6666;
  font-size: 13px;
  margin-top: 10px;
  display: none;
}

/* ===== ヘッダー ===== */
header {
  background: #2f2f2f;
  color: #fff;
  padding: 36px 16px;
  text-align: center;
}

header h1 {
  font-size: clamp(22px, 6vw, 28px);
  margin-bottom: 8px;
}

header p {
  font-size: clamp(14px, 4vw, 16px);
}

/* ===== セクション ===== */
section {
  padding: 36px 16px;
  max-width: 720px;
  margin: auto;
}

/* ===== 注意事項 ===== */
.notice {
  background: #fff;
  padding: 24px;
  border-radius: 8px;
}

.notice p {
  margin: 12px 0;
  font-size: clamp(14px, 4vw, 16px);
}

/* ===== 条例 ===== */
#rule {
  margin: 20px 0;
  font-weight: bold;
  display: inline-block;
  position: relative;
}

/* 赤線 */
#rule::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -6px;
  width: 0;
  height: 3px;
  background: red;
  transition: width 3s linear;
}

#rule.focus::after {
  width: 100%;
}

/* ★ 条例の下に3行分の空白 */
.rule-space {
  height: calc(1.8em * 3);
}

/* ===== 黒画面 ===== */
#black {
  position: fixed;
  inset: 0;
  background: #000;
  opacity: 0;
  pointer-events: none;
  transition: opacity 4s;
  z-index: 1500;
}

#black.show {
  opacity: 1;
}

/* ===== 黒画面テキスト ===== */
.black-text {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 20px;
  font-family: "游明朝", "Yu Mincho", "MS 明朝", serif;
  color: #fff;
  font-size: clamp(18px, 5vw, 26px);
  line-height: 1.6;
  opacity: 0;
  transition: opacity 2s;
  z-index: 1600;
}

.black-text.show {
  opacity: 1;
}

/* ===== スクロール固定 ===== */
.lock-scroll {
  overflow: hidden;
}
</style>
</head>

<body>

<!-- パスワード -->
<div id="lock">
  <div class="lock-box">
    <p>
      このサイトは謎解きゲーム<br>
      『とあるホテルの秘密』のために作られたものであり、<br>
      記載されている内容はすべてフィクションです。
    </p>
    <input type="password" id="pw" placeholder="パスワード">
    <button onclick="unlock()">物語を進める</button>
    <div class="error" id="error">パスワードが違います</div>
  </div>
</div>

<header>
  <h1>居酒屋しらぬん</h1>
  <p>アルバイト応募ページ</p>
</header>

<section>
  <h2>募集要項</h2>
  <p>居酒屋しらぬんでは、ホール・キッチンスタッフを募集しています。</p>
</section>

<section class="notice">
  <h3>注意事項</h3>
  <p>本募集は予告なく内容を変更、または終了する場合があります。</p>
  <p>応募内容に虚偽があった場合、採用を取り消すことがあります。</p>
  <p>勤務条件の詳細は面談時にご説明いたします。</p>
    <p>勤務条件の詳細は面談時にご説明いたします。</p>
  <p>勤務条件の詳細は面談時にご説明いたします。</p>
  <p>勤務条件の詳細は面談時にご説明いたします。</p>
  <p>勤務条件██詳細は面█████ご説明いたします。</p>
  <p>████████████████</p>

  <p id="rule">
    条例により、河岸県民のみアルバイトの応募が可能です。
  </p>

  <!-- ★ 3行分の空白 -->
  <div class="rule-space"></div>
</section>

<div id="black"></div>

<div class="black-text" id="reveal">
  どうやら、アルバイトは<br>
  河岸県民しか応募できないようだ。
</div>

<div class="black-text" id="final">
  最終問題<br>
  どうにかして、<br>このアルバイトに応募し、<br>
  田中まみを捕まえろ。
</div>

<script>
const PASSWORD = "riddle";

function unlock() {
  const input = pw.value;

  if (input === PASSWORD) {
    error.style.display = "none";
    lock.style.display = "none";

    // ★ 必ず最上部から開始
    window.scrollTo({ top: 0, left: 0, behavior: "instant" });
  } else {
    error.style.display = "block";
  }
}

let triggered = false;

window.addEventListener("scroll", () => {
  if (triggered || lock.style.display !== "none") return;

  const bottom =
    window.innerHeight + window.scrollY >=
    document.documentElement.scrollHeight - 20;

  if (bottom) {
    triggered = true;
    document.body.classList.add("lock-scroll");

    setTimeout(() => rule.classList.add("focus"), 5000);
    setTimeout(() => black.classList.add("show"), 9000);
    setTimeout(() => reveal.classList.add("show"), 13000);
    setTimeout(() => reveal.classList.remove("show"), 18000);
    setTimeout(() => final.classList.add("show"), 21000);
  }
});
</script>

</body>
</html>


